import{r as g,u as w,j as e,H as _,a as b}from"./app-mLKsK72W.js";import{A as C}from"./AuthenticatedLayout-BKCI8yuV.js";import{C as l}from"./Card-YuVPrtLq.js";import{B as p}from"./Button-CFObPBcp.js";import{I as n}from"./Input-CliBSpbu.js";/* empty css            */import"./useTheme-BQpYfRXq.js";import"./GlobalToast-BUVRRJS3.js";function R({produks:c}){const[i,m]=g.useState(!1),[x,d]=g.useState(null),{data:s,setData:r,post:f,processing:u,errors:t,reset:k}=w({nama:"",deskripsi:"",harga:"",stok:"",kategori_input:"id_server",gambar:null,is_active:!0}),j=a=>{const o=a.target.files[0];if(r("gambar",o),o){const h=new FileReader;h.onload=y=>d(y.target.result),h.readAsDataURL(o)}else d(null)},v=a=>{a.preventDefault(),f("/admin/produk",{onSuccess:()=>{k(),d(null),m(!1)}})},N=a=>{confirm("Yakin ingin menghapus produk ini?")&&b.delete(`/admin/produk/${a}`)};return e.jsxs(C,{title:"Kelola Produk",children:[e.jsx(_,{title:"Kelola Produk"}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx(p,{onClick:()=>m(!i),variant:"primary",children:i?"Tutup Form":"+ Tambah Produk"})}),i&&e.jsx(l,{className:"mb-8 border-0 shadow-md",children:e.jsx(l.Body,{children:e.jsxs("form",{onSubmit:v,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx(n,{label:"Nama Produk",value:s.nama,onChange:a=>r("nama",a.target.value),error:t.nama,required:!0}),e.jsx(n,{type:"number",label:"Harga (Rp)",value:s.harga,onChange:a=>r("harga",a.target.value),error:t.harga,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tipe Input Pesanan"}),e.jsxs("select",{value:s.kategori_input,onChange:a=>r("kategori_input",a.target.value),className:"w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all appearance-none",required:!0,children:[e.jsx("option",{value:"id_server",children:"ID Game + Server ID + Catatan (Opsional)"}),e.jsx("option",{value:"catatan",children:"Catatan Saja (Wajib)"})]}),t.kategori_input&&e.jsx("p",{className:"text-sm text-red-600",children:t.kategori_input})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(n,{type:"number",label:"Stok",value:s.stok,onChange:a=>r("stok",a.target.value),error:t.stok,required:!0}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:a=>r("is_active",a.target.checked),className:"w-5 h-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status Aktif"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Gambar Produk"}),e.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"w-full text-slate-500 dark:text-slate-400 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-semibold file:bg-slate-100 dark:file:bg-slate-700 file:text-slate-700 dark:file:text-white hover:file:bg-slate-200 dark:hover:file:bg-slate-600"}),t.gambar&&e.jsx("p",{className:"text-sm text-red-600",children:t.gambar}),x&&e.jsx("div",{className:"mt-2 w-32 h-32 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",children:e.jsx("img",{src:x,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Deskripsi"}),e.jsx("textarea",{rows:3,value:s.deskripsi,onChange:a=>r("deskripsi",a.target.value),className:"w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",required:!0}),t.deskripsi&&e.jsx("p",{className:"text-sm text-red-600",children:t.deskripsi})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(p,{type:"submit",disabled:u,variant:"primary",children:u?"Menyimpan...":"Simpan Produk"})})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c?.map(a=>e.jsxs(l,{hover:!0,className:`border-0 shadow-sm overflow-hidden group h-full flex flex-col bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 ${a.is_active?"":"opacity-75 grayscale"}`,children:[e.jsxs("div",{className:"aspect-[4/3] bg-slate-100 dark:bg-slate-700 relative overflow-hidden",children:[a.lokasi_gambar?e.jsx("img",{src:a.lokasi_gambar_url,alt:a.nama,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 dark:text-slate-500",children:"No Image"}),!a.is_active&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:"Non-Aktif"})}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>b.visit(`/admin/produk/${a.id}/edit`),className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-slate-600 dark:text-slate-300 hover:text-primary-600 dark:hover:text-primary-400 border border-slate-200 dark:border-slate-700",title:"Edit Produk",children:"âœï¸"}),e.jsx("button",{onClick:()=>N(a.id),className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300 border border-slate-200 dark:border-slate-700",title:"Hapus Produk",children:"ðŸ—‘ï¸"})]})]}),e.jsxs(l.Body,{className:"flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white line-clamp-1",children:a.nama}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4",children:[e.jsxs("p",{className:"text-primary-600 dark:text-primary-400 font-bold",children:["Rp ",a.harga?.toLocaleString("id-ID",{maximumFractionDigits:0})]}),e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${a.stok>0?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:["Stok: ",a.stok]})]})]})]},a.id))}),c?.length===0&&e.jsx("div",{className:"p-12 text-center bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-300 dark:border-slate-700",children:e.jsx("p",{className:"text-slate-400",children:"Belum ada produk"})})]})}export{R as default};
