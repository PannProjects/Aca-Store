import{r as g,u as j,j as e,H as v,L as N}from"./app-DBe-mTCb.js";import{A as y}from"./AuthenticatedLayout-KRI2Encv.js";import{C as t}from"./Card-1SGL-mzk.js";import{B as _}from"./Button-CkKSkjNb.js";import{I as o}from"./Input-D4O7RCrF.js";import{S as w}from"./Select-B0wFQCmi.js";/* empty css            */import"./useTheme-D1vgrI6C.js";function P({produk:s}){const[d,m]=g.useState(null),{data:l,setData:i,post:x,processing:c,errors:r}=j({produk_id:s?.id,kuantitas:1,game_id:"",server_id:"",payment_method:"",bukti_pembayaran:null}),u=(s?.harga||0)*l.kuantitas,p=a=>{const n=a.target.files[0];if(i("bukti_pembayaran",n),n){const h=new FileReader;h.onload=f=>m(f.target.result),h.readAsDataURL(n)}else m(null)},b=a=>{a.preventDefault(),x("/buy")};return e.jsxs(y,{title:"Checkout",children:[e.jsx(v,{title:"Checkout"}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs(N,{href:"/",className:"inline-flex items-center text-sm text-slate-500 hover:text-primary-600 mb-6 group",children:[e.jsx("span",{className:"mr-1 group-hover:-translate-x-1 transition-transform",children:"â†"})," Batal"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs(t,{className:"border-0 shadow-sm",children:[e.jsx(t.Header,{className:"bg-white",children:e.jsx("h3",{className:"font-bold text-slate-800",children:"Detail Akun Game"})}),e.jsx(t.Body,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(o,{label:"User ID",placeholder:"Contoh: 12345678",value:l.game_id,onChange:a=>i("game_id",a.target.value),error:r.game_id,required:!0}),e.jsx(o,{label:"Server ID",placeholder:"Contoh: 1234",value:l.server_id,onChange:a=>i("server_id",a.target.value),error:r.server_id,required:!0})]})})]}),e.jsxs(t,{className:"border-0 shadow-sm",children:[e.jsx(t.Header,{className:"bg-white",children:e.jsx("h3",{className:"font-bold text-slate-800",children:"Pembayaran"})}),e.jsxs(t.Body,{className:"space-y-4",children:[e.jsxs(w,{label:"Metode Pembayaran",value:l.payment_method,onChange:a=>i("payment_method",a.target.value),error:r.payment_method,required:!0,children:[e.jsx("option",{value:"",children:"Pilih Metode"}),e.jsx("option",{value:"transfer_bca",children:"Transfer BCA"}),e.jsx("option",{value:"transfer_bri",children:"Transfer BRI"}),e.jsx("option",{value:"gopay",children:"GoPay"}),e.jsx("option",{value:"dana",children:"DANA"}),e.jsx("option",{value:"qris",children:"QRIS"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bukti Transfer"}),e.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"w-full text-slate-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100",required:!0}),r.bukti_pembayaran&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:r.bukti_pembayaran}),d&&e.jsx("div",{className:"mt-4 relative w-full h-32 rounded-lg overflow-hidden border border-slate-200",children:e.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-cover"})})]})]})]})]}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm sticky top-24",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Ringkasan Pesanan"}),e.jsxs("div",{className:"flex gap-4 mb-4 pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-slate-100 overflow-hidden flex-shrink-0",children:s?.lokasi_gambar&&e.jsx("img",{src:`/storage/${s.lokasi_gambar}`,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 line-clamp-1",children:s?.nama}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Rp ",s?.harga?.toLocaleString("id-ID",{maximumFractionDigits:0})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx(o,{type:"number",label:"Jumlah",value:l.kuantitas,onChange:a=>i("kuantitas",parseInt(a.target.value)||1),min:1,max:s?.stok,error:r.kuantitas,required:!0}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-100",children:[e.jsx("span",{className:"font-bold text-slate-900",children:"Total Tagihan"}),e.jsxs("span",{className:"font-bold text-primary-600 text-lg",children:["Rp ",u.toLocaleString("id-ID",{maximumFractionDigits:0})]})]})]}),e.jsx(_,{onClick:b,variant:"primary",size:"lg",className:"w-full shadow-primary-500/25",disabled:c,children:c?"Memproses...":"Bayar Sekarang"})]})})]})]})]})}export{P as default};
