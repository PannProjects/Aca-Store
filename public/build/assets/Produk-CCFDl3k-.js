import{r as f,u as b,j as e,H as k,a as c}from"./app-DBe-mTCb.js";import{A as j}from"./AuthenticatedLayout-KRI2Encv.js";import{C as l}from"./Card-1SGL-mzk.js";import{B as x}from"./Button-CkKSkjNb.js";import{I as d}from"./Input-D4O7RCrF.js";/* empty css            */import"./useTheme-D1vgrI6C.js";function D({produks:o}){const[i,n]=f.useState(!1),{data:s,setData:r,post:u,processing:m,errors:t,reset:g}=b({nama:"",deskripsi:"",harga:"",stok:"",gambar:null}),h=a=>{a.preventDefault(),u("/admin/produk",{onSuccess:()=>{g(),n(!1)}})},p=a=>{confirm("Yakin ingin menghapus produk ini?")&&c.delete(`/admin/produk/${a}`)};return e.jsxs(j,{title:"Kelola Produk",children:[e.jsx(k,{title:"Kelola Produk"}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx(x,{onClick:()=>n(!i),variant:"primary",children:i?"Tutup Form":"+ Tambah Produk"})}),i&&e.jsx(l,{className:"mb-8 border-0 shadow-md",children:e.jsx(l.Body,{children:e.jsxs("form",{onSubmit:h,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx(d,{label:"Nama Produk",value:s.nama,onChange:a=>r("nama",a.target.value),error:t.nama,required:!0}),e.jsx(d,{type:"number",label:"Harga (Rp)",value:s.harga,onChange:a=>r("harga",a.target.value),error:t.harga,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx(d,{type:"number",label:"Stok",value:s.stok,onChange:a=>r("stok",a.target.value),error:t.stok,required:!0}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Gambar Produk"}),e.jsx("input",{type:"file",accept:"image/*",onChange:a=>r("gambar",a.target.files[0]),className:"w-full text-slate-500 dark:text-slate-400 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-semibold file:bg-slate-100 dark:file:bg-slate-700 file:text-slate-700 dark:file:text-white hover:file:bg-slate-200 dark:hover:file:bg-slate-600"}),t.gambar&&e.jsx("p",{className:"text-sm text-red-600",children:t.gambar})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Deskripsi"}),e.jsx("textarea",{rows:3,value:s.deskripsi,onChange:a=>r("deskripsi",a.target.value),className:"w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",required:!0}),t.deskripsi&&e.jsx("p",{className:"text-sm text-red-600",children:t.deskripsi})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(x,{type:"submit",disabled:m,variant:"primary",children:m?"Menyimpan...":"Simpan Produk"})})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o?.map(a=>e.jsxs(l,{hover:!0,className:"border-0 shadow-sm overflow-hidden group h-full flex flex-col bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"aspect-[4/3] bg-slate-100 dark:bg-slate-700 relative overflow-hidden",children:[a.lokasi_gambar?e.jsx("img",{src:`/storage/${a.lokasi_gambar}`,alt:a.nama,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 dark:text-slate-500",children:"No Image"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>c.visit(`/admin/produk/${a.id}/edit`),className:"bg-white dark:bg-slate-800 p-2 rounded-full shadow-sm text-slate-600 dark:text-slate-300 hover:text-primary-600 dark:hover:text-primary-400",children:"âœï¸"}),e.jsx("button",{onClick:()=>p(a.id),className:"bg-white dark:bg-slate-800 p-2 rounded-full shadow-sm text-slate-600 dark:text-slate-300 hover:text-red-600 dark:hover:text-red-400",children:"ðŸ—‘ï¸"})]})]}),e.jsxs(l.Body,{className:"flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white line-clamp-1",children:a.nama}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4",children:[e.jsxs("p",{className:"text-primary-600 dark:text-primary-400 font-bold",children:["Rp ",a.harga?.toLocaleString("id-ID",{maximumFractionDigits:0})]}),e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${a.stok>0?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:["Stok: ",a.stok]})]})]})]},a.id))}),o?.length===0&&e.jsx("div",{className:"p-12 text-center bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-300 dark:border-slate-700",children:e.jsx("p",{className:"text-slate-400",children:"Belum ada produk"})})]})}export{D as default};
