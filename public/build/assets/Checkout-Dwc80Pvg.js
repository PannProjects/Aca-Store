import{r as f,u as j,j as e,H as k,L as v}from"./app-Df3UiQSk.js";import{A as y}from"./AuthenticatedLayout-CZtXzTkS.js";import{C as d}from"./Card-BbJE2rzm.js";import{B as N}from"./Button-OL2oTina.js";import{I as n}from"./Input-BUAIhnt0.js";import{S as w}from"./Select-B72lkoul.js";/* empty css            */import"./useTheme-DC5h2uqv.js";function R({produk:s}){const[o,m]=f.useState(null),{data:t,setData:l,post:b,processing:c,errors:r}=j({produk_id:s?.id,kuantitas:1,game_id:"",server_id:"",catatan:"",payment_method:"",bukti_pembayaran:null}),u=(s?.harga||0)*t.kuantitas,h=a=>{const i=a.target.files[0];if(l("bukti_pembayaran",i),i){const x=new FileReader;x.onload=p=>m(p.target.result),x.readAsDataURL(i)}else m(null)},g=a=>{a.preventDefault(),b("/buy")};return e.jsxs(y,{title:"Checkout",children:[e.jsx(k,{title:"Checkout"}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs(v,{href:"/",className:"inline-flex items-center text-sm text-slate-500 dark:text-slate-400 hover:text-primary-600 mb-6 group",children:[e.jsx("span",{className:"mr-1 group-hover:-translate-x-1 transition-transform",children:"â†"})," Batal"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs(d,{className:"border-0 shadow-sm",children:[e.jsx(d.Header,{children:e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Detail Akun Game"})}),e.jsx(d.Body,{className:"space-y-4",children:s?.kategori_input==="id_server"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(n,{label:"User ID",placeholder:"Contoh: 12345678",value:t.game_id,onChange:a=>l("game_id",a.target.value),error:r.game_id,required:!0}),e.jsx(n,{label:"Server ID",placeholder:"Contoh: 1234",value:t.server_id,onChange:a=>l("server_id",a.target.value),error:r.server_id,required:!0})]}),e.jsxs("div",{className:"space-y-1.5 mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Catatan Tambahan (Opsional)"}),e.jsx("textarea",{rows:2,placeholder:"Contoh: Nickname akun, atau request khusus",value:t.catatan,onChange:a=>l("catatan",a.target.value),className:"w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"}),r.catatan&&e.jsx("p",{className:"text-sm text-red-600",children:r.catatan})]})]}):e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Catatan Pesanan (Wajib)"}),e.jsx("textarea",{rows:4,placeholder:"Masukkan Email, Password, atau catatan lainnya yang dibutuhkan",value:t.catatan,onChange:a=>l("catatan",a.target.value),className:"w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",required:!0}),r.catatan&&e.jsx("p",{className:"text-sm text-red-600",children:r.catatan})]})})]}),e.jsxs(d,{className:"border-0 shadow-sm",children:[e.jsx(d.Header,{children:e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Pembayaran"})}),e.jsxs(d.Body,{className:"space-y-4",children:[e.jsxs(w,{label:"Metode Pembayaran",value:t.payment_method,onChange:a=>l("payment_method",a.target.value),error:r.payment_method,required:!0,children:[e.jsx("option",{value:"",children:"Pilih Metode"}),e.jsx("option",{value:"gopay",children:"GoPay"}),e.jsx("option",{value:"dana",children:"DANA"}),e.jsx("option",{value:"qris",children:"QRIS"})]}),t.payment_method==="qris"&&e.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50 dark:bg-slate-700 dark:border-slate-600 flex flex-col items-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scan QRIS untuk Pembayaran"}),e.jsx("img",{src:"/images/qris.jpeg",alt:"QRIS Acastore",className:"w-full max-w-xs object-contain border rounded-md shadow-sm"})]}),t.payment_method==="dana"&&e.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-blue-50 border-blue-100 dark:bg-blue-900/20 dark:border-blue-800",children:[e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 font-medium mb-1",children:"Transfer ke DANA"}),e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-800 p-3 rounded border border-blue-200 dark:border-blue-700",children:[e.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-white tracking-wide font-mono",children:"0895384661641"}),e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText("0895384661641"),alert("Nomor DANA berhasil disalin!")},className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium px-3 py-1.5 rounded transition-colors",children:"Salin"})]})]}),t.payment_method==="gopay"&&e.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-green-50 border-green-100 dark:bg-green-900/20 dark:border-green-800",children:[e.jsx("p",{className:"text-sm text-green-800 dark:text-green-300 font-medium mb-1",children:"Transfer ke GoPay"}),e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-800 p-3 rounded border border-green-200 dark:border-green-700",children:[e.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-white tracking-wide font-mono",children:"082229828972"}),e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText("082229828972"),alert("Nomor GoPay berhasil disalin!")},className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 font-medium px-3 py-1.5 rounded transition-colors",children:"Salin"})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-dashed border-slate-300 dark:bg-slate-800/50 dark:border-slate-600",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bukti Transfer"}),e.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"w-full text-slate-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100",required:!0}),r.bukti_pembayaran&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:r.bukti_pembayaran}),o&&e.jsx("div",{className:"mt-4 relative w-full h-32 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700",children:e.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover"})})]})]})]})]}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm sticky top-24",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Ringkasan Pesanan"}),e.jsxs("div",{className:"flex gap-4 mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden flex-shrink-0",children:s?.lokasi_gambar&&e.jsx("img",{src:s.lokasi_gambar_url,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white line-clamp-1",children:s?.nama}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Rp ",s?.harga?.toLocaleString("id-ID",{maximumFractionDigits:0})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx(n,{type:"number",label:"Jumlah",value:t.kuantitas,onChange:a=>l("kuantitas",parseInt(a.target.value)||1),min:1,max:s?.stok,error:r.kuantitas,required:!0}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-100 dark:border-slate-700",children:[e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"Total Tagihan"}),e.jsxs("span",{className:"font-bold text-primary-600 text-lg",children:["Rp ",u.toLocaleString("id-ID",{maximumFractionDigits:0})]})]})]}),e.jsx(N,{onClick:g,variant:"primary",size:"lg",className:"w-full shadow-primary-500/25",disabled:c,children:c?"Memproses...":"Bayar Sekarang"})]})})]})]})]})}export{R as default};
