import{r as f,u as N,j as e,H as _,L as C}from"./app-mLKsK72W.js";import{A as S}from"./AuthenticatedLayout-BKCI8yuV.js";import{C as j}from"./Card-YuVPrtLq.js";import{B as n}from"./Button-CFObPBcp.js";import{I as h}from"./Input-CliBSpbu.js";import{S as D}from"./Select-Dz6GEN5r.js";/* empty css            */import"./useTheme-BQpYfRXq.js";import"./GlobalToast-BUVRRJS3.js";function T({produk:s}){const[r,o]=f.useState(1),[c,b]=f.useState(null),{data:a,setData:i,post:v,processing:d,errors:l}=N({produk_id:s?.id,kuantitas:1,game_id:"",server_id:"",catatan:"",payment_method:"",bukti_pembayaran:null}),p=(s?.harga||0)*a.kuantitas,w=t=>{const x=t.target.files[0];if(i("bukti_pembayaran",x),x){const k=new FileReader;k.onload=y=>b(y.target.result),k.readAsDataURL(x)}else b(null)},m=()=>{if(r===1){if(s?.kategori_input==="id_server"&&(!a.game_id||!a.server_id))return alert("User ID dan Server ID wajib diisi!");if(s?.kategori_input!=="id_server"&&!a.catatan)return alert("Catatan wajib diisi!");o(2)}else if(r===2){if(!a.payment_method)return alert("Silakan pilih metode pembayaran.");o(3)}},u=()=>o(r-1),g=t=>{t.preventDefault(),v("/buy")};return e.jsxs(S,{title:"Checkout",children:[e.jsx(_,{title:"Checkout"}),e.jsxs("div",{className:"max-w-4xl mx-auto pb-24 md:pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 px-4 md:px-0",children:[e.jsx(C,{href:"/",className:"inline-flex items-center text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-primary-600 transition-all hover:-translate-x-1",children:"â† KEMBALI"}),e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm shadow-sm transition-colors duration-500 ${r>=1?"bg-primary-600 text-white":"bg-slate-200 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:"1"}),e.jsx("div",{className:`w-10 h-1.5 rounded-full transition-colors duration-500 ${r>=2?"bg-primary-500":"bg-slate-200 dark:bg-slate-700"}`}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm shadow-sm transition-colors duration-500 ${r>=2?"bg-primary-600 text-white":"bg-slate-200 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:"2"}),e.jsx("div",{className:`w-10 h-1.5 rounded-full transition-colors duration-500 ${r>=3?"bg-primary-500":"bg-slate-200 dark:bg-slate-700"}`}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm shadow-sm transition-colors duration-500 ${r===3?"bg-primary-600 text-white":"bg-slate-200 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:"3"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 px-4 md:px-0",children:[e.jsx("div",{className:"md:col-span-7 lg:col-span-8 space-y-6",children:e.jsxs(j,{className:"border-0 shadow-xl shadow-slate-200/50 dark:shadow-black/20 overflow-hidden ring-1 ring-slate-200/50 dark:ring-slate-700/50 animate-fade-in-up duration-500",children:[e.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-800 md:hidden",children:e.jsx("div",{className:"h-full bg-primary-600 transition-all duration-500 ease-out",style:{width:`${r/3*100}%`}})}),e.jsxs(j.Body,{className:"p-6 sm:p-8",children:[r===1&&e.jsxs("div",{className:"space-y-6 animate-fade-in duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:"Data Akun Game"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Lengkapi tujuan pengiriman pesanan Anda dengan benar."})]}),e.jsx("div",{className:"space-y-5",children:s?.kategori_input==="id_server"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsx(h,{label:"User ID",placeholder:"Contoh: 12345678",value:a.game_id,onChange:t=>i("game_id",t.target.value),error:l.game_id,required:!0,className:"bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-700"}),e.jsx(h,{label:"Server ID",placeholder:"Contoh: 1234",value:a.server_id,onChange:t=>i("server_id",t.target.value),error:l.server_id,required:!0,className:"bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-700"})]}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wide",children:"Catatan Ekstra (Opsional)"}),e.jsx("textarea",{rows:3,placeholder:"Nickname, atau pesan lain untuk admin...",value:a.catatan,onChange:t=>i("catatan",t.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white focus:bg-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all resize-none shadow-sm"}),l.catatan&&e.jsx("p",{className:"text-sm text-red-600 font-medium",children:l.catatan})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wide",children:["Catatan Pesanan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{rows:4,placeholder:"Masukkan email, atau login details yang diperlukan...",value:a.catatan,onChange:t=>i("catatan",t.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white focus:bg-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all resize-none shadow-sm",required:!0}),l.catatan&&e.jsx("p",{className:"text-sm text-red-600 font-medium",children:l.catatan})]})}),e.jsx("div",{className:"pt-6 flex justify-end",children:e.jsx(n,{onClick:m,variant:"primary",className:"px-8 shadow-xl shadow-primary-500/30 w-full sm:w-auto hover:-translate-y-0.5 transition-all",children:"Lanjut Metode Bayar â†’"})})]}),r===2&&e.jsxs("div",{className:"space-y-6 animate-fade-in duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:"Metode Pembayaran"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Pilih e-wallet atau bank tujuan deposit."})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs(D,{label:"Pilih Metode",value:a.payment_method,onChange:t=>i("payment_method",t.target.value),error:l.payment_method,required:!0,className:"bg-slate-50 dark:bg-slate-900 shadow-sm",children:[e.jsx("option",{value:"",children:"-- Pilih Pembayaran --"}),e.jsx("option",{value:"gopay",children:"ðŸ’³ GoPay Apps"}),e.jsx("option",{value:"dana",children:"ðŸ’¶ DANA Dompet Digital"}),e.jsx("option",{value:"qris",children:"ðŸ“± QRIS (Scan Semua Bank)"})]}),a.payment_method==="qris"&&e.jsxs("div",{className:"p-6 border border-slate-200 rounded-2xl bg-white dark:bg-slate-800/50 dark:border-slate-700 text-center animate-fade-in-up shadow-sm",children:[e.jsx("p",{className:"text-sm font-black uppercase tracking-wider text-slate-900 dark:text-white mb-4",children:"Scan QRIS Ini"}),e.jsx("div",{className:"inline-block p-2 bg-white rounded-2xl shadow-md border border-slate-100 hover:scale-105 transition-transform duration-300",children:e.jsx("img",{src:"/images/qris.jpeg",alt:"QRIS",className:"w-56 h-56 object-contain rounded-xl pointer-events-none"})})]}),(a.payment_method==="dana"||a.payment_method==="gopay")&&e.jsxs("div",{className:`p-6 rounded-2xl border ${a.payment_method==="dana"?"bg-blue-50/50 border-blue-200 dark:bg-blue-900/10 dark:border-blue-800/50":"bg-green-50/50 border-green-200 dark:bg-green-900/10 dark:border-green-800/50"} animate-fade-in-up shadow-sm`,children:[e.jsxs("p",{className:`text-xs font-black uppercase tracking-wider mb-4 ${a.payment_method==="dana"?"text-blue-800 dark:text-blue-400":"text-green-800 dark:text-green-400"}`,children:["Transfer ke ",a.payment_method==="dana"?"Rekening DANA":"Rekening GoPay"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between bg-white dark:bg-slate-900/80 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm gap-4",children:[e.jsx("span",{className:"text-2xl font-black tracking-widest text-slate-900 dark:text-white font-mono break-all text-center",children:a.payment_method==="dana"?"0895384661641":"082229828972"}),e.jsx("button",{type:"button",onClick:async()=>{await navigator.clipboard.writeText(a.payment_method==="dana"?"0895384661641":"082229828972"),alert("Nomor disalin ke clipboard!")},className:`w-full sm:w-auto text-sm font-bold px-6 py-2.5 rounded-lg transition-all active:scale-95 hover:shadow-md ${a.payment_method==="dana"?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500":"bg-green-600 text-white hover:bg-green-700 dark:bg-emerald-600 dark:hover:bg-emerald-500"}`,children:"SALIN"})]})]})]}),e.jsxs("div",{className:"pt-6 flex items-center justify-between border-t border-slate-100 dark:border-slate-700 mt-8",children:[e.jsx("button",{onClick:u,type:"button",className:"text-sm font-bold text-slate-400 hover:text-slate-800 dark:text-slate-500 dark:hover:text-white transition-colors",children:"â† Kembali"}),e.jsx(n,{onClick:m,variant:"primary",className:"px-8 shadow-xl shadow-primary-500/30 hover:-translate-y-0.5 transition-all",children:"Validasi Bukti â†’"})]})]}),r===3&&e.jsxs("div",{className:"space-y-6 animate-fade-in duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:"Verifikasi Akhir"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Unggah bukti atau screenshot resi Anda di sini."})]}),e.jsxs("div",{className:"p-8 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-300 hover:border-primary-500 hover:bg-primary-50/50 dark:bg-slate-900/50 dark:border-slate-700 dark:hover:border-primary-500 dark:hover:bg-primary-900/20 transition-all duration-300 group cursor-pointer relative overflow-hidden text-center shadow-inner",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",required:!0}),c?e.jsxs("div",{className:"pointer-events-none flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-full max-w-sm rounded-xl overflow-hidden shadow-lg border-4 border-white dark:border-slate-800 mb-6 group-hover:scale-[1.02] transition-transform duration-300",children:[e.jsx("img",{src:c,alt:"Preview Bukti",className:"w-full aspect-[4/3] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),e.jsx("span",{className:"text-sm font-bold text-white bg-primary-600 dark:bg-primary-500 px-5 py-2 rounded-full shadow-lg shadow-primary-500/30",children:"Sentuh Untuk Mengganti"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 pointer-events-none py-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 mb-2 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-black text-slate-800 dark:text-white mb-1",children:"Upload Bukti Transfer"}),e.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Tekan atau seret file (Max 2MB)"})]})]})]}),l.bukti_pembayaran&&e.jsx("p",{className:"text-sm text-red-500 font-bold text-center bg-red-50 dark:bg-red-900/20 py-2 rounded-lg",children:l.bukti_pembayaran}),e.jsxs("div",{className:"pt-6 flex items-center justify-between border-t border-slate-100 dark:border-slate-700 mt-8",children:[e.jsx("button",{onClick:u,type:"button",className:"text-sm font-bold text-slate-400 hover:text-slate-800 dark:text-slate-500 dark:hover:text-white transition-colors",children:"â† Kembali"}),e.jsx(n,{onClick:g,variant:"primary",size:"lg",className:"px-10 py-3 text-base shadow-xl shadow-primary-500/30 hidden md:inline-flex hover:-translate-y-1 transition-all group",disabled:d,children:d?"Memproses...":e.jsxs("span",{className:"flex items-center gap-2",children:["Konfirmasi & Bayar",e.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})]})]})}),e.jsx("div",{className:"md:col-span-5 lg:col-span-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 lg:p-8 border border-slate-200 dark:border-slate-700 shadow-xl shadow-slate-200/50 dark:shadow-black/20 sticky top-24 ring-1 ring-slate-200/50 dark:ring-slate-700/50",children:[e.jsx("h3",{className:"font-black text-slate-900 dark:text-white mb-6 uppercase tracking-widest text-xs text-center border-b border-slate-100 dark:border-slate-700 pb-4",children:"Ringkasan Tagihan"}),e.jsxs("div",{className:"flex items-center gap-4 mb-6 pt-2",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 dark:bg-slate-700 overflow-hidden flex-shrink-0 border border-slate-200 dark:border-slate-600 shadow-sm",children:s?.lokasi_gambar&&e.jsx("img",{src:s.lokasi_gambar_url,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white line-clamp-2 leading-tight mb-1 text-sm",children:s?.nama}),e.jsxs("p",{className:"text-sm font-black text-primary-600 dark:text-primary-400",children:["Rp ",s?.harga?.toLocaleString("id-ID",{maximumFractionDigits:0}),e.jsx("span",{className:"text-slate-400 font-medium text-xs",children:"/item"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:e.jsx(h,{type:"number",label:"Berapa Banyak (Qty)?",value:a.kuantitas,onChange:t=>i("kuantitas",parseInt(t.target.value)||1),min:1,max:s?.stok,error:l.kuantitas,required:!0,className:"bg-white dark:bg-slate-800 border-none shadow-sm text-center font-bold text-lg"})}),e.jsxs("div",{className:"flex justify-between items-end pt-4 border-t border-slate-100 dark:border-slate-700",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-bold text-xs text-slate-400 uppercase tracking-widest",children:"Total Bayar"})}),e.jsxs("span",{className:"font-black text-primary-600 dark:text-primary-400 text-2xl tracking-tight leading-none",children:["Rp ",p.toLocaleString("id-ID",{maximumFractionDigits:0})]})]})]})]})})]}),e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/90 dark:bg-slate-800/90 backdrop-blur-md border-t border-slate-200 dark:border-slate-700 shadow-[0_-10px_40px_rgba(0,0,0,0.1)] dark:shadow-black/50 p-4 z-40",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-0.5",children:"Total"}),e.jsxs("p",{className:"text-xl font-black text-primary-600 dark:text-primary-400 leading-none",children:["Rp ",p.toLocaleString("id-ID",{maximumFractionDigits:0})]})]}),r<3?e.jsx(n,{onClick:m,variant:"primary",className:"w-full text-base shadow-lg shadow-primary-500/30 flex justify-center py-3",children:"Lanjut"}):e.jsx(n,{onClick:g,variant:"primary",className:"w-full text-base shadow-lg shadow-primary-500/30 animate-pulse flex justify-center py-3",disabled:d||!c,children:d?"Tunggu...":"Bayar Sekarang!"})]})})]})]})}export{T as default};
